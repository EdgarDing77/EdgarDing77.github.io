# å‰ç«¯æ–‡æ¡£

## ä¸€ã€é¡¹ç›®æ¦‚è§ˆ

### 1.1 é¡¹ç›®ç»“æ„

```
|-assets
|     |-css                     // æ ·å¼
|     |-images                  // å›¾ç‰‡
|     |-libs                    // ç¬¬ä¸‰æ–¹åº“
|
|-pages            // htmlç»„ä»¶
|     |-system                  // ç³»ç»Ÿç®¡ç†é¡µé¢
|     |-xxxxxx                  // å…¶ä»–ä¸šåŠ¡é¡µé¢
|     |-tpl                     // å…¬ç”¨ç»„ä»¶
|     |     |-message.html                 // æ¶ˆæ¯
|     |-console.html            // ä¸»é¡µä¸€
|     |-header.html             // å¤´éƒ¨
|     |-side.html               // ä¾§å¯¼èˆª
|
|-module                // jsæ¨¡å— (ä½¿ç”¨layuiçš„æ¨¡å—å¼€å‘æ–¹å¼)
|     |-admin.js                // adminæ¨¡å—
|     |-config.js                // configæ¨¡å—
|     |-index.js                // indexæ¨¡å—
|
|-index.html            // ä¸»ç•Œé¢
|-login.html            // ç™»é™†ç•Œé¢
```

> ä¸åˆ†ç¦»ç‰ˆæ²¡æœ‰pagesç›®å½•ï¼Œä¸åˆ†ç¦»ç‰ˆçš„é¡µé¢ç”±åå°è¾“å‡ºï¼Œå‰ç«¯åªæœ‰assetså’Œmodule

## 1.2 å¼€å‘è§„èŒƒ

1. cssã€å›¾ç‰‡ã€ç¬¬ä¸‰æ–¹libï¼ˆlayuiæ‰©å±•æ¨¡å—é™¤å¤–ï¼‰å…¨éƒ¨æ”¾åœ¨â€œ/assets/â€ä¸‹é¢ï¼›
2. layuiæ‰©å±•æ¨¡å—æ”¾åœ¨â€œmoduleâ€ä¸‹é¢ï¼Œä¾‹å¦‚é¡¹ç›®é‡Œé¢â€œformSelectsâ€æ¨¡å—ï¼›
3. é¡µé¢htmlæ”¾åœ¨â€œpagesâ€ä¸‹é¢ã€‚

> æ³¨æ„ï¼šä¸åˆ†ç¦»ç‰ˆæœ¬htmlä¸éœ€è¦æ”¾åœ¨â€œpagesâ€ä¸‹é¢ï¼Œéšä¾¿æ”¾ï¼Œå› ä¸ºæ˜¯åç«¯æ¸²æŸ“ï¼Œå‰ç«¯åªéœ€è¦è®¿é—®åç«¯çš„urlã€‚ æ¯”å¦‚æˆ‘è¿™é‡Œä¸åˆ†ç¦»ç‰ˆæœ¬æ˜¯æ”¾åœ¨templatesç›®å½•ä¸‹é¢ï¼Œtemplatesæ˜¯SpringBooté»˜è®¤çš„è§†å›¾ç›®å½•ã€‚

## äºŒã€å¼€å‘æŒ‡å—

### â€œconfigâ€æ¨¡å—

â€œconfigâ€æ¨¡å—ä¸»è¦æ˜¯é…ç½®é¡¹ç›®çš„ä¸€äº›åŸºæœ¬å‚æ•°ã€‚

| åç§°        | ç±»å‹ | æè¿°                                                 |
| ----------- | ---- | ---------------------------------------------------- |
| base_server | å˜é‡ | æœåŠ¡å™¨æ¥å£åœ°å€                                       |
| tableName   | å˜é‡ | æœ¬åœ°å­˜å‚¨è¡¨åï¼ˆtokenç­‰éƒ½ä¼šå­˜å‚¨åœ¨æœ¬åœ°ä¸­ï¼‰              |
| pageTabs    | å˜é‡ | æ˜¯å¦å¼€å¯å¤šæ ‡ç­¾æ¨¡å¼ï¼Œ(**ä¸åˆ†ç¦»ç‰ˆæœ¬åœ¨index.jsä¸­é…ç½®**) |
| getToken    | æ–¹æ³• | è·å–ç¼“å­˜çš„token                                      |
| putToken    | æ–¹æ³• | ç¼“å­˜token                                            |
| removeToken | æ–¹æ³• | æ¸…é™¤ç¼“å­˜çš„token                                      |
| menus       | å˜é‡ | ä¾§å¯¼èˆªèœå•æ•°ç»„ï¼Œä¾§å¯¼èˆªæ ¹æ®menusè‡ªåŠ¨æ¸²æŸ“              |
| getUser     | æ–¹æ³• | è·å–ç¼“å­˜çš„ç”¨æˆ·ä¿¡æ¯                                   |
| putUser     | æ–¹æ³• | ç¼“å­˜ç”¨æˆ·çš„ä¿¡æ¯                                       |

æ³¨æ„ï¼šå› ä¸ºæˆ‘è¿™è¾¹çš„åå°è¿”å›çš„tokenæ˜¯è¿™æ ·çš„

```json
{
    "access_token": "950a7cc9-5a8a-42c9-a693-40e817b1a4b0",
    "token_type": "bearer",
    "refresh_token": "773a0fcd-6023-45f8-8848-e141296cb3cb",
    "expires_in": 27036,
    "scope": "select"
}
```

â€ƒâ€ƒæ‰€ä»¥æˆ‘è¿™è¾¹çš„tokenä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å­˜å‚¨çš„ï¼Œæ˜¯ç”¨jsonå­˜å‚¨çš„ï¼ŒgetTokenè¿”å›çš„æ˜¯ä¸€ä¸ªjsonå¯¹è±¡ï¼Œ å¦‚æœä½ çš„tokenåªæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯·ä¿®æ”¹getTokenæ–¹æ³•å’Œadminé‡Œé¢çš„reqæ–¹æ³•ï¼Œå½“ç„¶æˆ‘å»ºè®®æœ€å¥½ å‘½ä»¤ä½ çš„åå°äººå‘˜æŒ‰è¿™ä¸ªjsonæ ¼å¼è¿”å›æ•°æ®ï¼Œè¿™ä¸ªæ˜¯ä¸€ä¸ªæ ‡å‡†çš„æ ¼å¼ã€‚

## ä¸‰ã€å¼€å‘æ ·å¼

layuiå›¾æ ‡ï¼šhttp://www.baoxiuyun.net/element/icon.html

layer.iconï¼š

1. OK
2. âŒé”™è¯¯
3. â“ï¼Ÿ
4. ğŸ”’æ— æƒ
5. ğŸ˜«ä¸å¼€å¿ƒ - è¶…æ—¶
6. ğŸ˜„å¼€å¿ƒ

## å››ã€å…·ä½“é¡µé¢é€»è¾‘

### 4.1å°è£…ajaxè¯·æ±‚

å…·ä½“é€»è¾‘ï¼š

```javascript
  admin.req('api-user/users/current', {}, function (data) {
    layer.close(loadIndex);
    if (data.resp_code === 0) {
      let user = data.data;
      djjConfig.putUser(user);
      admin.putTempData("permissions", user.permissions);
      success(user);
    } else {
      layer.msg('è·å–ç”¨æˆ·å¤±è´¥', {icon: 2, time: 1000});
      djjConfig.removeToken();
      location.replace('login.html');
    }
  }, 'GET', {headers: {'Authorization': 'Bearer ' + token.access_token}});
```

### æ·»åŠ é¡µé¢

é¡µé¢æ¡ˆä¾‹å‚è€ƒï¼š

```html
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Tokenç®¡ç†</title>
    <link rel="stylesheet" href="../../assets/libs/layui/css/layui.css"/>
    <link rel="stylesheet" href="../../assets/module/admin.css?v=318"/>
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<div class="layui-fluid">
    <div class="layui-card">
        <div class="layui-card-header">
            <h2 class="header-title">tokenç®¡ç†</h2>
        </div>
        <div class="layui-card-body">
            <form class="layui-form toolbar">
                <div class="layui-inline">
                    <label class="layui-form-label">ç”¨æˆ·å:</label>
                    <div class="layui-input-inline">
                        <input name="username" class="layui-input" placeholder="è¾“å…¥ç”¨æˆ·å"/>
                    </div>
                </div>
                <div class="layui-form-item">
                    <div class="layui-inline">&emsp;
                        <button class="layui-btn icon-btn" lay-filter="TokensTbSearch" lay-submit>
                            <i class="layui-icon">&#xe615;</i>æœç´¢
                        </button>
                    </div>
                </div>
            </form>
            <!-- æ•°æ®è¡¨æ ¼ -->
            <table id="tokensTable" lay-filter="tokensTable"></table>
        </div>
    </div>
</div>

<script type="text/html" id="tokensTableBar">
    <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">åˆ é™¤</a>
</script>
<script>
    layui.use(['layer', 'form', 'table', 'util', 'admin', 'zTree', 'djj_config'], function () {
        var $ = layui.jquery;
        var layer = layui.layer;
        var form = layui.form;
        var table = layui.table;
        var util = layui.util;
        var admin = layui.admin;
        var djjConfig = layui.djj_config;

        table.render({
            elem: '#tokensTable',
            url: djjConfig.base_server + 'api-uaa/tokens',
            method: 'GET',
            headers:{'Authorization': 'Bearer ' + djjConfig.getToken().access_token},
            page: true,
            col: [[
                
            ]]
        });
    });
</script>
</body>
</html>
```



### æ¨¡ç‰ˆå¼•æ“ä½¿ç”¨

å‚è€ƒï¼šhttps://www.layuion.com/demo/laytpl.html

ä¾‹å¦‚è¿”å›çš„å¯¹è±¡userï¼š

```json
{"data":{"id":1,"createTime":"2021-12-26T05:47:55.000+00:00","updateTime":"2021-12-26T05:47:55.000+00:00","username":"admin","password":"{bcrypt}$2a$10$H5iFnJeqVtYmrx1d6XsNBOIRZB0LBvGLUpH2j2inDbhhP45q3yyJG","nickname":"ç®¡ç†å‘˜","headImgUrl":"0","mobile":"15112343188","sex":null,"type":"ADMIN","openId":null,"isEnable":true,"isDel":false,"roles":[],"roleId":null,"oldPassword":null,"newPassword":null,"permissions":null,"authorities":[],"accountNonExpired":true,"accountNonLocked":true,"credentialsNonExpired":true,"userId":null,"enabled":true},"resp_code":0,"resp_msg":""}
```

é€šè¿‡è¯¥æ•°æ®å¡«å……åˆ°ç”¨æˆ·å¤´åƒå’Œæ˜µç§°ï¼š

```javascript
  myIndex.getUser(function (user) {
    console.log(user)
    let userShow = admin.util.tpl(
      '                <a>\n' +
      '                    <img src="assets/images/head.jpg" class="layui-nav-img">\n' +
      '                    <cite>{{d.nickname}}</cite>\n' +
      '                </a>',
      user
    );
    $("#userShow").html(userShow);
  });
```

ä»¥ä¸Šæ–¹å¼è¿‡äºéº»çƒ¦ï¼Œé‡‡ç”¨æ’ä»¶-Pandyleã€‚

## æ’ä»¶è¯´æ˜

### eCharts

> ä¸€ä¸ªåŸºäº JavaScript çš„å¼€æºå¯è§†åŒ–å›¾è¡¨åº“



### Pandyle

pandyleæ˜¯ä¸€ä¸ªåŸºäºjqueryçš„MVVMåº“ã€‚å®ƒä¸ºjqueryæä¾›äº†åŸºæœ¬çš„æ¨¡æ¿å’Œç»„ä»¶åŠŸèƒ½ã€‚pandyleç§‰æ‰¿jquery â€” **write less, do more** çš„è®¾è®¡ç†å¿µï¼Œä¸»è¦å…³æ³¨ç‚¹å³åœ¨äº**ç®€å•**ï¼Œå®ƒçš„å¤§å°åªæœ‰7kbï¼ˆå‹ç¼©åï¼‰ï¼Œæ˜“å­¦æ˜“ç”¨ï¼ŒåŠªåŠ›å‡å°‘ä½ ä¹¦å†™çš„ä»£ç é‡ï¼Œå¹¶ä¸”æ›´è´´åˆä¼ ç»Ÿçš„jqueryçš„ä¹¦å†™æ–¹å¼ã€‚

> ä»€ä¹ˆæ˜¯MVVMï¼Ÿ[MVVM](https://en.wikipedia.org/wiki/Modelâ€“viewâ€“viewmodel)æ˜¯Model-View-ViewModelçš„ç¼©å†™ã€‚

è¦ç¼–å†™å¯ç»´æŠ¤çš„å‰ç«¯ä»£ç ç»éæ˜“äº‹ã€‚æˆ‘ä»¬å·²ç»ç”¨MVCæ¨¡å¼é€šè¿‡koaå®ç°äº†åç«¯æ•°æ®ã€æ¨¡æ¿é¡µé¢å’Œæ§åˆ¶å™¨çš„åˆ†ç¦»ï¼Œä½†æ˜¯ï¼Œå¯¹äºå‰ç«¯æ¥è¯´ï¼Œè¿˜ä¸å¤Ÿã€‚

è¿™é‡Œæœ‰ç«¥é‹ä¼šé—®ï¼Œä¸æ˜¯è®²Nodeåç«¯å¼€å‘å—ï¼Ÿæ€ä¹ˆåˆå›åˆ°å‰ç«¯å¼€å‘äº†ï¼Ÿ

å¯¹äºä¸€ä¸ªå…¨æ ˆå¼€å‘å·¥ç¨‹å¸ˆæ¥è¯´ï¼Œæ‡‚å‰ç«¯æ‰ä¼šå¼€å‘å‡ºæ›´å¥½çš„åç«¯ç¨‹åºï¼ˆä¸æ‡‚å‰ç«¯çš„åç«¯å·¥ç¨‹å¸ˆä¼šè®¾è®¡å‡ºéå¸¸éš¾ç”¨çš„APIï¼‰ï¼Œæ‡‚åç«¯æ‰ä¼šå¼€å‘å‡ºæ›´å¥½çš„å‰ç«¯ç¨‹åºã€‚ç¨‹åºè®¾è®¡çš„åŸºæœ¬æ€æƒ³åœ¨å‰åç«¯éƒ½æ˜¯é€šç”¨çš„ï¼Œä¸¤è€…å¹¶æ— æœ¬è´¨çš„åŒºåˆ«ã€‚è¿™å’Œâ€œä¸æƒ³å½“å¨å­çš„è£ç¼ä¸æ˜¯å¥½å¸æœºâ€æ˜¯ä¸€ä¸ªé“ç†ã€‚

å½“æˆ‘ä»¬ç”¨Node.jsæœ‰äº†ä¸€æ•´å¥—åç«¯å¼€å‘æ¨¡å‹åï¼Œæˆ‘ä»¬å¯¹å‰ç«¯å¼€å‘ä¹Ÿä¼šæœ‰æ–°çš„è®¤è¯†ã€‚ç”±äºå‰ç«¯å¼€å‘æ··åˆäº†HTMLã€CSSå’ŒJavaScriptï¼Œè€Œä¸”é¡µé¢ä¼—å¤šï¼Œæ‰€ä»¥ï¼Œä»£ç çš„ç»„ç»‡å’Œç»´æŠ¤éš¾åº¦å…¶å®æ›´åŠ å¤æ‚ï¼Œè¿™å°±æ˜¯MVVMå‡ºç°çš„åŸå› ã€‚

ä½¿ç”¨è¯´æ˜ï¼š[ä½¿ç”¨WIKI](https://github.com/RenRongrong/pandyle/wiki)

#### ç»„ä»¶

p-comå±æ€§æä¾›ç»„ä»¶åŠŸèƒ½ã€‚pandyleä¸­çš„ç»„ä»¶å®è´¨å°±æ˜¯ä¸€æ®µhtmlä»£ç ï¼Œåœ¨æ ‡ç­¾ä¸­ä½¿ç”¨p-comå±æ€§æ¥æŒ‡å®šç»„ä»¶çš„åç§°ã€‚VMä¼šæ ¹æ®p-comä¸­æŒ‡å®šçš„åç§°å’ŒPandyleé…ç½®ä¸­çš„comPathå­—æ®µå»åŠ è½½å¯¹åº”çš„ç»„ä»¶å¹¶æ¸²æŸ“ã€‚å¦‚æœæ²¡æœ‰è®¾ç½®comPathï¼ŒVMä¼šåœ¨é»˜è®¤çš„`./components`æ–‡ä»¶å¤¹ä¸­å¯»æ‰¾å¯¹åº”åç§°çš„ç»„ä»¶ã€‚

å…³äºp-bindå’Œp-comçš„é¡ºåº:åœ¨æ¸²æŸ“æ¨¡æ¿æ—¶ï¼Œp-bindçš„è§£æåœ¨p-comä¹‹å‰ï¼Œå› æ­¤ï¼Œä½ å¯ä»¥ä½¿ç”¨p-bindæ¥åŠ¨æ€åŠ è½½ç»„ä»¶ã€‚



## layui

### Introduction

layuiï¼ˆè°éŸ³ï¼šç±» UI) æ˜¯ä¸€å¥—å¼€æºçš„ Web UI è§£å†³æ–¹æ¡ˆï¼Œé‡‡ç”¨è‡ªèº«ç»å…¸çš„æ¨¡å—åŒ–è§„èŒƒï¼Œå¹¶éµå¾ªåŸç”Ÿ HTML/CSS/JS çš„å¼€å‘æ–¹å¼ï¼Œææ˜“ä¸Šæ‰‹ï¼Œæ‹¿æ¥å³ç”¨ã€‚å…¶é£æ ¼ç®€çº¦è½»ç›ˆï¼Œè€Œç»„ä»¶ä¼˜é›…ä¸°ç›ˆï¼Œä»æºä»£ç åˆ°ä½¿ç”¨æ–¹æ³•çš„æ¯ä¸€å¤„ç»†èŠ‚éƒ½ç»è¿‡ç²¾å¿ƒé›•ç¢ï¼Œéå¸¸é€‚åˆç½‘é¡µç•Œé¢çš„å¿«é€Ÿå¼€å‘ã€‚layui åŒºåˆ«äºé‚£äº›åŸºäº MVVM åº•å±‚çš„å‰ç«¯æ¡†æ¶ï¼Œå´å¹¶éé€†é“è€Œè¡Œï¼Œè€Œæ˜¯ä¿¡å¥‰è¿”ç’å½’çœŸä¹‹é“ã€‚å‡†ç¡®åœ°è¯´ï¼Œå®ƒæ›´å¤šæ˜¯é¢å‘åç«¯å¼€å‘è€…ï¼Œä½ æ— éœ€æ¶‰è¶³å‰ç«¯çš„å„ç§å·¥å…·ï¼Œåªéœ€é¢å¯¹æµè§ˆå™¨æœ¬èº«ï¼Œè®©ä¸€åˆ‡ä½ æ‰€éœ€è¦çš„å…ƒç´ ä¸äº¤äº’ï¼Œä»è¿™é‡Œä¿¡æ‰‹æ‹ˆæ¥ã€‚

**ç›®å½•ç»“æ„**

```
code
  â”œâ”€css //cssç›®å½•
  â”‚  â”‚â”€modules //æ¨¡å— css ç›®å½•ï¼ˆä¸€èˆ¬å¦‚æœæ¨¡å—ç›¸å¯¹è¾ƒå¤§ï¼Œæˆ‘ä»¬ä¼šå•ç‹¬æå–ï¼Œå¦‚ä¸‹ï¼šï¼‰
  â”‚  â”‚  â”œâ”€laydate
  â”‚  â”‚  â””â”€layer
  â”‚  â””â”€layui.css //æ ¸å¿ƒæ ·å¼æ–‡ä»¶
  â”œâ”€font  //å­—ä½“å›¾æ ‡ç›®å½•
  â””â”€layui.js //æ ¸å¿ƒåº“
     
```

**æ¨¡å—å¼•å…¥**

```javascript
//layui æ¨¡å—çš„å®šä¹‰ï¼ˆæ–° js æ–‡ä»¶ï¼‰
layui.define([mods], function(exports){
  
  //â€¦â€¦
  
  exports('mod', api);
});  
 
//layui æ¨¡å—çš„ä½¿ç”¨
layui.use(['mod1', 'mod2'], function(args){
  var mod = layui.mod1;
  
  //â€¦â€¦
  
});    
```

**ç®¡ç†æ‹“å±•æ¨¡å—**

```javascript
//mod1.js
layui.define('layer', function(exports){
  //â€¦
  exports(mod1, {});
});
 
//mod2.jsï¼Œå‡è®¾ä¾èµ– mod1 å’Œ form
layui.define(['mod1', 'form'], function(exports){
  //â€¦
  exports(mod2, {});
});  
 
//mod3.js
//â€¦ 
 
//main.js ä¸»å…¥å£æ¨¡å—
layui.define('mod2', function(exports){
  //â€¦
  exports('main', {});
});
      
```

## é¡µé¢å…ƒç´ 

### å¸ƒå±€å®¹å™¨

1. å›ºå®šå®½åº¦ï¼ˆä¸¤ä¾§å…·æœ‰ç•™ç™½æ•ˆæœï¼‰:`<div class="layui-container">`ã€‚
2. å®Œæ•´å®½åº¦ï¼ˆå æ®å±å¹•100%ï¼‰:`<div class="layui-fluid>"`ã€‚

### æ …æ ¼ç³»ç»Ÿ

| 1.   | é‡‡ç”¨ *layui-row* æ¥å®šä¹‰è¡Œï¼Œå¦‚ï¼š*<div class="layui-row"></div>* |
| ---- | ------------------------------------------------------------ |
| 2.   | é‡‡ç”¨ç±»ä¼¼ *layui-col-md** è¿™æ ·çš„é¢„è®¾ç±»æ¥å®šä¹‰ä¸€ç»„åˆ—ï¼ˆcolumnï¼‰ï¼Œä¸”æ”¾åœ¨è¡Œï¼ˆrowï¼‰å†…ã€‚å…¶ä¸­ï¼šå˜é‡*md* ä»£è¡¨çš„æ˜¯ä¸åŒå±å¹•ä¸‹çš„æ ‡è®°ï¼ˆå¯é€‰å€¼è§ä¸‹æ–‡ï¼‰å˜é‡*** ä»£è¡¨çš„æ˜¯è¯¥åˆ—æ‰€å ç”¨çš„12ç­‰åˆ†æ•°ï¼ˆå¦‚6/12ï¼‰ï¼Œå¯é€‰å€¼ä¸º 1 - 12å¦‚æœå¤šä¸ªåˆ—çš„â€œç­‰åˆ†æ•°å€¼â€æ€»å’Œç­‰äº12ï¼Œåˆ™åˆšå¥½æ»¡è¡Œæ’åˆ—ã€‚å¦‚æœå¤§äº12ï¼Œå¤šä½™çš„åˆ—å°†è‡ªåŠ¨å¦èµ·ä¸€è¡Œã€‚ |
| 3.   | åˆ—å¯ä»¥åŒæ—¶å‡ºç°æœ€å¤šå››ç§ä¸åŒçš„ç»„åˆï¼Œåˆ†åˆ«æ˜¯ï¼š*xs*ï¼ˆè¶…å°å±å¹•ï¼Œå¦‚æ‰‹æœºï¼‰ã€*sm*ï¼ˆå°å±å¹•ï¼Œå¦‚å¹³æ¿ï¼‰ã€*md*ï¼ˆæ¡Œé¢ä¸­ç­‰å±å¹•ï¼‰ã€*lg*ï¼ˆæ¡Œé¢å¤§å‹å±å¹•ï¼‰ï¼Œä»¥å‘ˆç°æ›´åŠ åŠ¨æ€çµæ´»çš„å¸ƒå±€ã€‚ |
| 4.   | å¯å¯¹åˆ—è¿½åŠ ç±»ä¼¼ *layui-col-space5*ã€ *layui-col-md-offset3* è¿™æ ·çš„é¢„è®¾ç±»æ¥å®šä¹‰åˆ—çš„é—´è·å’Œåç§»ã€‚ |
| 5.   | æœ€åï¼Œåœ¨åˆ—ï¼ˆcolumnï¼‰å…ƒç´ ä¸­æ”¾å…¥ä½ è‡ªå·±çš„ä»»æ„å…ƒç´ å¡«å……å†…å®¹ï¼Œå®Œæˆå¸ƒå±€ï¼ |

- è¿™é‡Œæ³¨æ„ä¸‹ï¼Œå“åº”å¼çš„åŒºåˆ«ï¼Œä½äºä¸åŒå±å¹•ç«¯ï¼Œè¡¨ç°ä¹Ÿä¸åŒã€‚

### æ•°æ®è¡¨æ ¼table

**å¿«é€Ÿä½¿ç”¨**

åˆ›å»ºä¸€ä¸ªtableå®ä¾‹æœ€ç®€å•çš„æ–¹å¼æ˜¯ï¼Œåœ¨é¡µé¢æ”¾ç½®ä¸€ä¸ªå…ƒç´  *<table id="demo"></table>*ï¼Œç„¶åé€šè¿‡ *table.render()* æ–¹æ³•æŒ‡å®šè¯¥å®¹å™¨ã€‚

```javascript	
<script>
layui.use('table', function(){
  var table = layui.table;
  
  // åŠ è½½å®ä¾‹
  table.render({
    elem: '#demo' // ç”¨äºç»‘å®šå®¹å™¨
    ,height: 312
    ,url: '/demo/table/user/' //æ•°æ®æ¥å£
    ,page: true //å¼€å¯åˆ†é¡µ
    ,cols: [[ //è¡¨å¤´
      {field: 'id', title: 'ID', width:80, sort: true, fixed: 'left'}
      ,{field: 'username', title: 'ç”¨æˆ·å', width:80}
      ,{field: 'sex', title: 'æ€§åˆ«', width:80, sort: true}
      ,{field: 'city', title: 'åŸå¸‚', width:80} 
      ,{field: 'sign', title: 'ç­¾å', width: 177}
      ,{field: 'experience', title: 'ç§¯åˆ†', width: 80, sort: true}
      ,{field: 'score', title: 'è¯„åˆ†', width: 80, sort: true}
      ,{field: 'classify', title: 'èŒä¸š', width: 80}
      ,{field: 'wealth', title: 'è´¢å¯Œ', width: 135, sort: true}
    ]]
  });
  
});
</script>
```



```javascript
var tableObj = table.render({});
tableObj.reload(options); //é‡è½½è¡¨æ ¼
```

1. 

### è¡¨å•form

å®˜ç½‘ï¼šhttps://www.layuion.com/doc/modules/form.html

> åœ¨ä¸€ä¸ªå®¹å™¨ä¸­è®¾å®š *class="layui-form"* æ¥æ ‡è¯†ä¸€ä¸ªè¡¨å•å…ƒç´ å—ï¼Œé€šè¿‡è§„èŒƒå¥½çš„HTMLç»“æ„åŠCSSç±»ï¼Œæ¥ç»„è£…æˆå„å¼å„æ ·çš„è¡¨å•å…ƒç´ ï¼Œå¹¶é€šè¿‡å†…ç½®çš„ *formæ¨¡å—* æ¥å®Œæˆå„ç§äº¤äº’ã€‚
>
> ä¾èµ–åŠ è½½æ¨¡å—ï¼š[form](https://www.layuion.com/doc/modules/form.html) ï¼ˆè¯·æ³¨æ„ï¼šå¦‚æœä¸åŠ è½½formæ¨¡å—ï¼Œselectã€checkboxã€radioç­‰å°†æ— æ³•æ˜¾ç¤ºï¼Œå¹¶ä¸”æ— æ³•ä½¿ç”¨formç›¸å…³åŠŸèƒ½ï¼‰

**æ›´æ–°æ¸²æŸ“**

æ‰§è¡Œ *form.render(type, filter);* æ–¹æ³•å³å¯ã€‚

ç¬¬ä¸€ä¸ªå‚æ•°ï¼štypeï¼Œä¸ºè¡¨å•çš„ type ç±»å‹ï¼Œå¯é€‰ã€‚é»˜è®¤å¯¹å…¨éƒ¨ç±»å‹çš„è¡¨å•è¿›è¡Œä¸€æ¬¡æ›´æ–°ã€‚å¯å±€éƒ¨åˆ·æ–°çš„ type å¦‚ä¸‹è¡¨ï¼š

| å‚æ•°ï¼ˆtypeï¼‰å€¼ | æè¿°                             |
| :------------- | :------------------------------- |
| select         | åˆ·æ–°selecté€‰æ‹©æ¡†æ¸²æŸ“             |
| checkbox       | åˆ·æ–°checkboxå¤é€‰æ¡†ï¼ˆå«å¼€å…³ï¼‰æ¸²æŸ“ |
| radio          | åˆ·æ–°radioå•é€‰æ¡†æ¡†æ¸²æŸ“            |

```
ä¾‹å­codeform.render(); //æ›´æ–°å…¨éƒ¨form.render('select'); //åˆ·æ–°selecté€‰æ‹©æ¡†æ¸²æŸ“//â€¦â€¦      
```

ç¬¬äºŒä¸ªå‚æ•°ï¼šfilterï¼Œä¸º *class="layui-form"* æ‰€åœ¨å…ƒç´ çš„ *lay-filter=""* çš„å€¼ã€‚ä½ å¯ä»¥å€ŸåŠ©è¯¥å‚æ•°ï¼Œå¯¹è¡¨å•å®Œæˆå±€éƒ¨æ›´æ–°ã€‚

```
ä¾‹å­codeã€HTMLã€‘<div class="layui-form" lay-filter="test1">  â€¦</div> <div class="layui-form" lay-filter="test2">  â€¦</div>      ã€JavaScriptã€‘form.render(null, 'test1'); //æ›´æ–° lay-filter="test1" æ‰€åœ¨å®¹å™¨å†…çš„å…¨éƒ¨è¡¨å•çŠ¶æ€form.render('select', 'test2'); //æ›´æ–° lay-filter="test2" æ‰€åœ¨å®¹å™¨å†…çš„å…¨éƒ¨ select çŠ¶æ€//â€¦â€¦      
```

**è¾“å…¥æ¡†**

```
<input type="text" name="title" required lay-verify="required" placeholder="è¯·è¾“å…¥æ ‡é¢˜" autocomplete="off" class="layui-input">          
```

1. *required*ï¼šæ³¨å†Œæµè§ˆå™¨æ‰€è§„å®šçš„å¿…å¡«å­—æ®µ
2. *lay-verify*ï¼šæ³¨å†Œformæ¨¡å—éœ€è¦éªŒè¯çš„ç±»å‹
3. *class="layui-input"*ï¼šlayui.cssæä¾›çš„é€šç”¨CSSç±»

**ä¸‹æ‹‰é€‰æ‹©æ¡†**

```html
<select name="city" lay-verify="">
  <option value="">è¯·é€‰æ‹©ä¸€ä¸ªåŸå¸‚</option>
  <option value="010">åŒ—äº¬</option>
  <option value="021">ä¸Šæµ·</option>
  <option value="0571">æ­å·</option>
</select>     
```

ä¸Šè¿°optionçš„ç¬¬ä¸€é¡¹ä¸»è¦æ˜¯å ä¸ªå‘ï¼Œè®©formæ¨¡å—é¢„ç•™â€œè¯·é€‰æ‹©â€çš„æç¤ºç©ºé—´ï¼Œå¦åˆ™å°†ä¼šæŠŠç¬¬ä¸€é¡¹ï¼ˆå­˜åœ¨valueå€¼ï¼‰ä½œä¸ºé»˜è®¤é€‰ä¸­é¡¹ã€‚ä½ å¯ä»¥åœ¨optionçš„ç©ºå€¼é¡¹ä¸­è‡ªå®šä¹‰æ–‡æœ¬ï¼Œå¦‚ï¼šè¯·é€‰æ‹©åˆ†ç±»ã€‚

é€šè¿‡è®¾å®š*selected*æ¥è®¾ç½®é»˜è®¤é€‰ä¸­é¡¹ã€‚

**è¡¨å•èµ‹å€¼/å–å€¼**

è¯­æ³•ï¼š*form.val('filter', object);*

ç”¨äºç»™æŒ‡å®šè¡¨å•é›†åˆçš„å…ƒç´ èµ‹å€¼å’Œå–å€¼ã€‚å¦‚æœ object å‚æ•°å­˜åœ¨ï¼Œåˆ™ä¸ºèµ‹å€¼ï¼›å¦‚æœ object å‚æ•°ä¸å­˜åœ¨ï¼Œåˆ™ä¸ºå–å€¼ã€‚
æ³¨ï¼šå…¶ä¸­ã€Œå–å€¼ã€åŠŸèƒ½ä¸º layui 2.5.5 å¼€å§‹æ–°å¢

```javascript
//ç»™è¡¨å•èµ‹å€¼
form.val("formTest", { //formTest å³ class="layui-form" æ‰€åœ¨å…ƒç´ å±æ€§ lay-filter="" å¯¹åº”çš„å€¼
  "username": "è´¤å¿ƒ" // "name": "value"
  ,"sex": "å¥³"
  ,"auth": 3
  ,"check[write]": true
  ,"open": false
  ,"desc": "æˆ‘çˆ±layui"
});
 
//è·å–è¡¨å•åŒºåŸŸæ‰€æœ‰å€¼
var data1 = form.val("formTest");
```

ç¬¬äºŒä¸ªå‚æ•°ä¸­çš„é”®å€¼æ˜¯è¡¨å•å…ƒç´ å¯¹åº”çš„ *name* å’Œ *value*ã€‚

### æ ‘å½¢è¡¨æ ¼treeTable

å®˜æ–¹ï¼šhttps://gitee.com/pang123/treetable-lay#%E7%AE%80%E4%BB%8B

åŸæœ¬çš„é¡¹ç›®åœ°å€ä¸¢å¤±ã€‚

#### åŸºç¡€å‚æ•°ä¸€è§ˆè¡¨

| å‚æ•°         | ç±»å‹          | è¯´æ˜                              | ç¤ºä¾‹å€¼                           |
| ------------ | ------------- | --------------------------------- | -------------------------------- |
| elem         | String/DOM    | æŒ‡å®šåŸå§‹ table å®¹å™¨çš„é€‰æ‹©å™¨æˆ– DOM | '#demo'                          |
| cols         | Array         | è®¾ç½®è¡¨å¤´ã€‚å€¼æ˜¯ä¸€ç»´æ•°ç»„            | è¯¦è§è¡¨å¤´å‚æ•°                     |
| data         | Array         | ç›´æ¥èµ‹å€¼æ•°æ®                      | [{}, {}, {}, {}, â€¦]              |
| width        | Number        | è®¾å®šå®¹å™¨å®½åº¦                      | 350                              |
| height       | Number/String | è®¾å®šå®¹å™¨é«˜åº¦                      | 300 / 'full-150'                 |
| cellMinWidth | Number        | å®šä¹‰æ‰€æœ‰å•å…ƒæ ¼çš„æœ€å°å®½åº¦          | 100                              |
| text         | Object        | è‡ªå®šä¹‰æ–‡æœ¬ï¼Œå¦‚ç©ºæ•°æ®æç¤ºç­‰        | è¯¦è§è‡ªå®šä¹‰æ–‡æœ¬                   |
| skin         | String        | è®¾å®šè¡¨æ ¼é£æ ¼                      | lineè¡Œè¾¹æ¡†ã€rowåˆ—è¾¹æ¡†ã€nobæ— è¾¹æ¡† |
| even         | Boolean       | å¼€å¯éš”è¡ŒèƒŒæ™¯                      | true/false                       |
| size         | String        | è®¾å®šè¡¨æ ¼å°ºå¯¸                      | sm å°å°ºå¯¸ã€lg å¤§å°ºå¯¸             |
| tree         | Object        | è®¾å®šæ ‘ç›¸å…³å‚æ•°                    | è¯¦è§æ ‘ç›¸å…³å‚æ•°                   |
| style        | String        | è®¾å®šå®¹å™¨çš„æ ·å¼                    | 'margin-top: 0;'                 |
| getThead     | Function      | è‡ªå®šä¹‰è¡¨å¤´                        | è¯¦è§è‡ªå®šä¹‰è¡¨å¤´                   |
| reqData      | Function      | æ‡’åŠ è½½æ•°æ®                        | è¯¦è§æ‡’åŠ è½½æ•°æ®                   |

#### è¡¨å¤´å‚æ•°ä¸€è§ˆè¡¨cols

| å‚æ•°       | ç±»å‹    | è¯´æ˜                           | ç¤ºä¾‹å€¼                                                |
| ---------- | ------- | ------------------------------ | ----------------------------------------------------- |
| field      | String  | è®¾å®šå­—æ®µå                     | 'username'                                            |
| title      | String  | è®¾å®šæ ‡é¢˜åç§°                   | ç”¨æˆ·å                                                |
| width      | Number  | è®¾å®šåˆ—å®½ï¼Œè‹¥ä¸å¡«å†™ï¼Œåˆ™è‡ªåŠ¨åˆ†é… | 150ã€20%(æ•°å­—å’Œç™¾åˆ†æ¯”)                                |
| minWidth   | Number  | å•å…ƒæ ¼çš„æœ€å°å®½åº¦               | 100(æ•°å­—)                                             |
| type       | String  | è®¾å®šåˆ—ç±»å‹                     | checkboxå¤é€‰æ¡†ã€radioå•é€‰æ¡†ã€numbersåºå·åˆ—ã€spaceç©ºåˆ— |
| edit       | String  | å•å…ƒæ ¼ç¼–è¾‘ç±»å‹                 | textï¼ˆè¾“å…¥æ¡†ï¼‰ã€number(æ•°å­—è¾“å…¥æ¡†)                    |
| style      | String  | è‡ªå®šä¹‰å•å…ƒæ ¼æ ·å¼               | color: red;                                           |
| class      | String  | è‡ªå®šä¹‰å•å…ƒæ ¼class              | class: 'pd-tb-0';                                     |
| align      | String  | å•å…ƒæ ¼æ’åˆ—æ–¹å¼                 | centerå±…ä¸­ã€rightå±…å³                                 |
| templet    | String  | è‡ªå®šä¹‰åˆ—æ¨¡æ¿                   | è¯¦è§è‡ªå®šä¹‰åˆ—æ¨¡æ¿                                      |
| toolbar    | String  | ç»‘å®šå·¥å…·æ¡æ¨¡æ¿                 | è¯¦è§è¡Œå·¥å…·äº‹ä»¶                                        |
| singleLine | Boolean | æ˜¯å¦å•è¡Œæ˜¾ç¤ºï¼Œæº¢å‡ºæ‚¬æµ®å±•å¼€     | true/false                                            |

> templetå’Œtoolbarç”¨æ³•ä¸æ•°æ®è¡¨æ ¼tableæ¨¡å—ä¸€è‡´

#### æ ‘ç›¸å…³å‚æ•°ä¸€è§ˆè¡¨tree

| å‚æ•°            | ç±»å‹     | è¯´æ˜                                    | ç¤ºä¾‹å€¼             |
| --------------- | -------- | --------------------------------------- | ------------------ |
| iconIndex       | Number   | å›¾æ ‡åˆ—çš„ç´¢å¼•                            | é»˜è®¤0              |
| onlyIconControl | Boolean  | ä»…å…è®¸ç‚¹å‡»å›¾æ ‡æŠ˜å                       | é»˜è®¤false          |
| arrowType       | String   | ç®­å¤´ç±»å‹                                | å¯é€‰'arrow2'       |
| getIcon         | Function | è‡ªå®šä¹‰æ ‘å½¢å›¾æ ‡                          | è¯¦è§è‡ªå®šä¹‰æ ‘å½¢å›¾æ ‡ |
| isPidData       | Boolean  | æ˜¯å¦æ˜¯pidå½¢å¼çš„æ•°æ®ï¼Œæ‡’åŠ è½½æ–¹å¼ä¸éœ€è¦   | é»˜è®¤false          |
| idName          | String   | è®¾å®šidçš„å­—æ®µå                          | é»˜è®¤'id'           |
| pidName         | String   | è®¾å®špidçš„å­—æ®µåï¼Œchildrenå½¢å¼æ•°æ®ä¸éœ€è¦ | é»˜è®¤'pid'          |
| childName       | String   | è®¾å®šchildrençš„å­—æ®µåï¼Œpidå½¢å¼æ•°æ®ä¸éœ€è¦ | é»˜è®¤'children'     |
| haveChildName   | String   | è®¾å®šæ˜¯å¦æœ‰å­é›†çš„å­—æ®µåï¼Œç”¨äºæ‡’åŠ è½½      | é»˜è®¤'haveChild'    |
| openName        | String   | è®¾å®šæ˜¯å¦é»˜è®¤å±•å¼€çš„å­—æ®µå                | é»˜è®¤'open'         |

### xmSelectä½¿ç”¨è¯´æ˜

å®˜ç½‘ï¼šhttps://maplemei.gitee.io/xm-select/#/component/install

formSelectså‡çº§åˆ°xmSelectã€‚

æ•°æ®ä¼ å…¥ï¼š

```javascript	
xmSelect.render({
  el: '#roleId',
  name: 'roleIds', // å¯¹åº”åç«¯çš„å€¼
  data: selectData
});
```

## Reference

- å‰ç«¯æ–‡æ¡£ï¼šhttps://www.kancloud.cn/sansui/easyweb/2141290
- pandyleï¼šhttps://www.bookstack.cn/read/pandyle/7cf24484e036db71.md ï½œ https://github.com/RenRongrong/pandyle
- echartsï¼šhttps://echarts.apache.org/handbook/zh/get-started/
- å­¦ä¹ å‚è€ƒï¼š
  - https://www.binglei.xyz/?p=590
  - https://github.com/caozxvip/zbx-doc